{"ast":null,"code":"import { getUnitX } from './units';\nimport { hasHiddenRelatives } from './hasHiddenRelatives';\nimport { SIZE } from '../constants';\nimport { FamilyType } from '../types';\n\nvar extendNode = function extendNode(family) {\n  return function (unit) {\n    return unit.nodes.map(function (node, idx) {\n      return Object.assign(Object.assign({}, node), {\n        top: family.Y + (unit.child && !!family.parents.length ? SIZE : 0),\n        left: getUnitX(family, unit) + idx * SIZE,\n        hasSubTree: hasHiddenRelatives(family, node)\n      });\n    });\n  };\n};\n\nvar getParentNodes = function getParentNodes(family) {\n  return ([FamilyType.root, FamilyType.parent].includes(family.type) ? family.parents : []).map(extendNode(family));\n};\n\nvar getChildNodes = function getChildNodes(family) {\n  return ([FamilyType.root, FamilyType.child].includes(family.type) ? family.children : []).map(extendNode(family));\n};\n\nvar mapFamily = function mapFamily(family) {\n  return [getParentNodes(family), getChildNodes(family)].flat(2);\n};\n\nexport var getExtendedNodes = function getExtendedNodes(families) {\n  return families.map(mapFamily).flat();\n};","map":{"version":3,"sources":["/var/projets/broglie-social-react/sociala-react/node_modules/relatives-tree/lib/utils/getExtendedNodes.js"],"names":["getUnitX","hasHiddenRelatives","SIZE","FamilyType","extendNode","family","unit","nodes","map","node","idx","Object","assign","top","Y","child","parents","length","left","hasSubTree","getParentNodes","root","parent","includes","type","getChildNodes","children","mapFamily","flat","getExtendedNodes","families"],"mappings":"AAAA,SAASA,QAAT,QAAyB,SAAzB;AACA,SAASC,kBAAT,QAAmC,sBAAnC;AACA,SAASC,IAAT,QAAqB,cAArB;AACA,SAASC,UAAT,QAA2B,UAA3B;;AACA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,MAAD;AAAA,SAAa,UAACC,IAAD;AAAA,WAAWA,IAAI,CAACC,KAAL,CAAWC,GAAX,CAAe,UAACC,IAAD,EAAOC,GAAP;AAAA,aAAgBC,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBH,IAAlB,CAAd,EAAuC;AAAEI,QAAAA,GAAG,EAAER,MAAM,CAACS,CAAP,IAAYR,IAAI,CAACS,KAAL,IAAc,CAAC,CAACV,MAAM,CAACW,OAAP,CAAeC,MAA/B,GAAwCf,IAAxC,GAA+C,CAA3D,CAAP;AAAsEgB,QAAAA,IAAI,EAAElB,QAAQ,CAACK,MAAD,EAASC,IAAT,CAAR,GAA0BI,GAAG,GAAGR,IAA5G;AAAmHiB,QAAAA,UAAU,EAAElB,kBAAkB,CAACI,MAAD,EAASI,IAAT;AAAjJ,OAAvC,CAAhB;AAAA,KAAf,CAAX;AAAA,GAAb;AAAA,CAAnB;;AACA,IAAMW,cAAc,GAAG,SAAjBA,cAAiB,CAACf,MAAD;AAAA,SAAY,CAAC,CAACF,UAAU,CAACkB,IAAZ,EAAkBlB,UAAU,CAACmB,MAA7B,EAAqCC,QAArC,CAA8ClB,MAAM,CAACmB,IAArD,IAA6DnB,MAAM,CAACW,OAApE,GAA8E,EAA/E,EAAmFR,GAAnF,CAAuFJ,UAAU,CAACC,MAAD,CAAjG,CAAZ;AAAA,CAAvB;;AACA,IAAMoB,aAAa,GAAG,SAAhBA,aAAgB,CAACpB,MAAD;AAAA,SAAY,CAAC,CAACF,UAAU,CAACkB,IAAZ,EAAkBlB,UAAU,CAACY,KAA7B,EAAoCQ,QAApC,CAA6ClB,MAAM,CAACmB,IAApD,IAA4DnB,MAAM,CAACqB,QAAnE,GAA8E,EAA/E,EAAmFlB,GAAnF,CAAuFJ,UAAU,CAACC,MAAD,CAAjG,CAAZ;AAAA,CAAtB;;AACA,IAAMsB,SAAS,GAAG,SAAZA,SAAY,CAACtB,MAAD;AAAA,SAAY,CAACe,cAAc,CAACf,MAAD,CAAf,EAAyBoB,aAAa,CAACpB,MAAD,CAAtC,EAAgDuB,IAAhD,CAAqD,CAArD,CAAZ;AAAA,CAAlB;;AACA,OAAO,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,QAAD;AAAA,SAAcA,QAAQ,CAACtB,GAAT,CAAamB,SAAb,EAAwBC,IAAxB,EAAd;AAAA,CAAzB","sourcesContent":["import { getUnitX } from './units';\nimport { hasHiddenRelatives } from './hasHiddenRelatives';\nimport { SIZE } from '../constants';\nimport { FamilyType } from '../types';\nconst extendNode = (family) => ((unit) => (unit.nodes.map((node, idx) => (Object.assign(Object.assign({}, node), { top: family.Y + (unit.child && !!family.parents.length ? SIZE : 0), left: getUnitX(family, unit) + (idx * SIZE), hasSubTree: hasHiddenRelatives(family, node) })))));\nconst getParentNodes = (family) => ([FamilyType.root, FamilyType.parent].includes(family.type) ? family.parents : []).map(extendNode(family));\nconst getChildNodes = (family) => ([FamilyType.root, FamilyType.child].includes(family.type) ? family.children : []).map(extendNode(family));\nconst mapFamily = (family) => [getParentNodes(family), getChildNodes(family)].flat(2);\nexport const getExtendedNodes = (families) => families.map(mapFamily).flat();\n"]},"metadata":{},"sourceType":"module"}