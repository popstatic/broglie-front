{"ast":null,"code":"import { FamilyType } from '../types';\nimport { withId, withIds } from './index';\nimport { nodeIds } from './units';\n\nconst inUnits = (units, nodeId) => units.some(unit => unit.nodes.some(withId(nodeId)));\n\nexport const hasHiddenRelatives = (family, node) => {\n  if (family.type !== FamilyType.child && inUnits(family.parents, node.id)) {\n    return family.type === FamilyType.parent && (node.children.length > 1 || node.spouses.length > 1) || !node.parents.length && !!node.siblings.length;\n  }\n\n  if (family.type !== FamilyType.parent && inUnits(family.children, node.id)) {\n    const parentIds = family.parents.length ? nodeIds(family.parents[0]) : [];\n    return !node.parents.some(withIds(parentIds)) && (!!node.parents.length || !!node.siblings.length);\n  }\n\n  return false;\n};","map":{"version":3,"sources":["/var/projets/broglie-social-react/sociala-react/node_modules/relatives-tree/lib/utils/hasHiddenRelatives.js"],"names":["FamilyType","withId","withIds","nodeIds","inUnits","units","nodeId","some","unit","nodes","hasHiddenRelatives","family","node","type","child","parents","id","parent","children","length","spouses","siblings","parentIds"],"mappings":"AAAA,SAASA,UAAT,QAA2B,UAA3B;AACA,SAASC,MAAT,EAAiBC,OAAjB,QAAgC,SAAhC;AACA,SAASC,OAAT,QAAwB,SAAxB;;AACA,MAAMC,OAAO,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAoBD,KAAK,CAACE,IAAN,CAAWC,IAAI,IAAIA,IAAI,CAACC,KAAL,CAAWF,IAAX,CAAgBN,MAAM,CAACK,MAAD,CAAtB,CAAnB,CAApC;;AACA,OAAO,MAAMI,kBAAkB,GAAG,CAACC,MAAD,EAASC,IAAT,KAAkB;AAChD,MAAID,MAAM,CAACE,IAAP,KAAgBb,UAAU,CAACc,KAA3B,IAAoCV,OAAO,CAACO,MAAM,CAACI,OAAR,EAAiBH,IAAI,CAACI,EAAtB,CAA/C,EAA0E;AACtE,WAASL,MAAM,CAACE,IAAP,KAAgBb,UAAU,CAACiB,MAA3B,KAAsCL,IAAI,CAACM,QAAL,CAAcC,MAAd,GAAuB,CAAvB,IAA4BP,IAAI,CAACQ,OAAL,CAAaD,MAAb,GAAsB,CAAxF,CAAD,IACH,CAACP,IAAI,CAACG,OAAL,CAAaI,MAAd,IAAwB,CAAC,CAACP,IAAI,CAACS,QAAL,CAAcF,MAD7C;AAEH;;AACD,MAAIR,MAAM,CAACE,IAAP,KAAgBb,UAAU,CAACiB,MAA3B,IAAqCb,OAAO,CAACO,MAAM,CAACO,QAAR,EAAkBN,IAAI,CAACI,EAAvB,CAAhD,EAA4E;AACxE,UAAMM,SAAS,GAAGX,MAAM,CAACI,OAAP,CAAeI,MAAf,GAAwBhB,OAAO,CAACQ,MAAM,CAACI,OAAP,CAAe,CAAf,CAAD,CAA/B,GAAqD,EAAvE;AACA,WAAQ,CAACH,IAAI,CAACG,OAAL,CAAaR,IAAb,CAAkBL,OAAO,CAACoB,SAAD,CAAzB,CAAD,KACH,CAAC,CAACV,IAAI,CAACG,OAAL,CAAaI,MAAf,IAAyB,CAAC,CAACP,IAAI,CAACS,QAAL,CAAcF,MADtC,CAAR;AAEH;;AACD,SAAO,KAAP;AACH,CAXM","sourcesContent":["import { FamilyType } from '../types';\nimport { withId, withIds } from './index';\nimport { nodeIds } from './units';\nconst inUnits = (units, nodeId) => (units.some(unit => unit.nodes.some(withId(nodeId))));\nexport const hasHiddenRelatives = (family, node) => {\n    if (family.type !== FamilyType.child && inUnits(family.parents, node.id)) {\n        return ((family.type === FamilyType.parent && (node.children.length > 1 || node.spouses.length > 1)) ||\n            (!node.parents.length && !!node.siblings.length));\n    }\n    if (family.type !== FamilyType.parent && inUnits(family.children, node.id)) {\n        const parentIds = family.parents.length ? nodeIds(family.parents[0]) : [];\n        return (!node.parents.some(withIds(parentIds)) &&\n            (!!node.parents.length || !!node.siblings.length));\n    }\n    return false;\n};\n"]},"metadata":{},"sourceType":"module"}