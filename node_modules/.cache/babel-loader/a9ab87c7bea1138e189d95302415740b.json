{"ast":null,"code":"import _slicedToArray from \"/var/projets/broglie-social-react/sociala-react/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nexport function isTouch() {\n  return window.matchMedia('(hover: none) and (pointer: coarse)').matches;\n}\nexport function isTouchEvent(event) {\n  return typeof TouchEvent !== 'undefined' && event instanceof TouchEvent;\n}\nexport function getClientXY(event) {\n  var point = event instanceof MouseEvent ? event : event.touches[0];\n  return {\n    X: point.clientX,\n    Y: point.clientY\n  };\n}\nexport function getMidXY(event) {\n  var _Array$from = Array.from(event.touches),\n      _Array$from2 = _slicedToArray(_Array$from, 2),\n      a = _Array$from2[0],\n      b = _Array$from2[1];\n\n  return {\n    mX: (a.pageX + b.pageX) / 2,\n    mY: (a.pageY + b.pageY) / 2\n  };\n}\nexport function limitZoom(z, min, max) {\n  return Math.max(Math.min(z, max), min);\n}\nexport function getTouchesRange(event) {\n  var _Array$from3 = Array.from(event.touches),\n      _Array$from4 = _slicedToArray(_Array$from3, 2),\n      a = _Array$from4[0],\n      b = _Array$from4[1];\n\n  return Math.hypot(b.clientX - a.clientX, b.clientY - a.clientY);\n}\nexport function getScale(event, currRange) {\n  var scale = event.scale;\n  var pageX = event.pageX;\n  var pageY = event.pageY;\n\n  if ([scale, pageX, pageY].some(function (val) {\n    return val === undefined;\n  })) {\n    scale = getTouchesRange(event) / currRange;\n\n    var _getMidXY = getMidXY(event),\n        mX = _getMidXY.mX,\n        mY = _getMidXY.mY;\n\n    pageX = mX;\n    pageY = mY;\n  }\n\n  return {\n    scale: scale,\n    pageX: pageX,\n    pageY: pageY\n  };\n}\nexport function getWheelDelta(event) {\n  var delta = event.deltaY;\n\n  switch (event.deltaMode) {\n    case WheelEvent.DOM_DELTA_LINE:\n      return Math.abs(delta) >= 1 ? delta / 100 : delta / 100 * 2;\n\n    case WheelEvent.DOM_DELTA_PAGE:\n      return Math.abs(delta) >= 1 ? delta / 100 : delta / 10;\n\n    default:\n      return Math.abs(delta) > 600 ? delta / 10000 : delta / 1000;\n  }\n}","map":{"version":3,"sources":["../src/helpers.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["export function isTouch() {\n    return window.matchMedia('(hover: none) and (pointer: coarse)').matches;\n}\nexport function isTouchEvent(event) {\n    return typeof TouchEvent !== 'undefined' && event instanceof TouchEvent;\n}\nexport function getClientXY(event) {\n    const point = event instanceof MouseEvent ? event : event.touches[0];\n    return { X: point.clientX, Y: point.clientY };\n}\nexport function getMidXY(event) {\n    const [a, b] = Array.from(event.touches);\n    return {\n        mX: (a.pageX + b.pageX) / 2,\n        mY: (a.pageY + b.pageY) / 2,\n    };\n}\nexport function limitZoom(z, min, max) {\n    return Math.max(Math.min(z, max), min);\n}\nexport function getTouchesRange(event) {\n    const [a, b] = Array.from(event.touches);\n    return Math.hypot(b.clientX - a.clientX, b.clientY - a.clientY);\n}\nexport function getScale(event, currRange) {\n    let scale = event.scale;\n    let pageX = event.pageX;\n    let pageY = event.pageY;\n    if ([scale, pageX, pageY].some(val => val === undefined)) {\n        scale = getTouchesRange(event) / currRange;\n        const { mX, mY } = getMidXY(event);\n        pageX = mX;\n        pageY = mY;\n    }\n    return { scale, pageX, pageY };\n}\nexport function getWheelDelta(event) {\n    const delta = event.deltaY;\n    switch (event.deltaMode) {\n        case WheelEvent.DOM_DELTA_LINE:\n            return Math.abs(delta) >= 1\n                ? delta / 100\n                : delta / 100 * 2;\n        case WheelEvent.DOM_DELTA_PAGE:\n            return Math.abs(delta) >= 1\n                ? delta / 100\n                : delta / 10;\n        default:\n            return Math.abs(delta) > 600\n                ? delta / 10000\n                : delta / 1000;\n    }\n}\n//# sourceMappingURL=helpers.js.map"]},"metadata":{},"sourceType":"module"}