{"ast":null,"code":"import { SIZE } from '../constants';\nimport { prop } from './index';\nexport const newUnit = function (fid, nodes) {\n  let isChild = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  return {\n    fid,\n    child: isChild,\n    nodes: [...nodes],\n    pos: 0\n  };\n};\nexport const nodeIds = unit => unit.nodes.map(prop('id'));\nexport const nodeCount = unit => unit.nodes.length;\nexport const hasChildren = unit => unit.nodes.some(node => node.children.length);\nexport const rightSide = unit => unit.pos + nodeCount(unit) * SIZE;\nexport const sameAs = target => unit => nodeIds(target).join('') === nodeIds(unit).join('');\nexport const getUnitX = (family, unit) => family.X + unit.pos;\nexport const unitsToNodes = units => units.map(prop('nodes')).flat();\nexport const arrangeInOrder = units => {\n  units.forEach((unit, idx, self) => unit.pos = idx === 0 ? 0 : rightSide(self[idx - 1]));\n};\nexport const correctUnitsShift = (units, shift) => units.forEach(unit => unit.pos += shift);","map":{"version":3,"sources":["/var/projets/broglie-social-react/sociala-react/node_modules/relatives-tree/lib/utils/units.js"],"names":["SIZE","prop","newUnit","fid","nodes","isChild","child","pos","nodeIds","unit","map","nodeCount","length","hasChildren","some","node","children","rightSide","sameAs","target","join","getUnitX","family","X","unitsToNodes","units","flat","arrangeInOrder","forEach","idx","self","correctUnitsShift","shift"],"mappings":"AAAA,SAASA,IAAT,QAAqB,cAArB;AACA,SAASC,IAAT,QAAqB,SAArB;AACA,OAAO,MAAMC,OAAO,GAAG,UAACC,GAAD,EAAMC,KAAN;AAAA,MAAaC,OAAb,uEAAuB,KAAvB;AAAA,SAAkC;AACrDF,IAAAA,GADqD;AAErDG,IAAAA,KAAK,EAAED,OAF8C;AAGrDD,IAAAA,KAAK,EAAE,CAAC,GAAGA,KAAJ,CAH8C;AAIrDG,IAAAA,GAAG,EAAE;AAJgD,GAAlC;AAAA,CAAhB;AAMP,OAAO,MAAMC,OAAO,GAAIC,IAAD,IAAUA,IAAI,CAACL,KAAL,CAAWM,GAAX,CAAeT,IAAI,CAAC,IAAD,CAAnB,CAA1B;AACP,OAAO,MAAMU,SAAS,GAAIF,IAAD,IAAUA,IAAI,CAACL,KAAL,CAAWQ,MAAvC;AACP,OAAO,MAAMC,WAAW,GAAIJ,IAAD,IAAUA,IAAI,CAACL,KAAL,CAAWU,IAAX,CAAgBC,IAAI,IAAIA,IAAI,CAACC,QAAL,CAAcJ,MAAtC,CAA9B;AACP,OAAO,MAAMK,SAAS,GAAIR,IAAD,IAAUA,IAAI,CAACF,GAAL,GAAWI,SAAS,CAACF,IAAD,CAAT,GAAkBT,IAAzD;AACP,OAAO,MAAMkB,MAAM,GAAIC,MAAD,IAAaV,IAAD,IAAUD,OAAO,CAACW,MAAD,CAAP,CAAgBC,IAAhB,CAAqB,EAArB,MAA6BZ,OAAO,CAACC,IAAD,CAAP,CAAcW,IAAd,CAAmB,EAAnB,CAAlE;AACP,OAAO,MAAMC,QAAQ,GAAG,CAACC,MAAD,EAASb,IAAT,KAAkBa,MAAM,CAACC,CAAP,GAAWd,IAAI,CAACF,GAAnD;AACP,OAAO,MAAMiB,YAAY,GAAIC,KAAD,IAAWA,KAAK,CAACf,GAAN,CAAUT,IAAI,CAAC,OAAD,CAAd,EAAyByB,IAAzB,EAAhC;AACP,OAAO,MAAMC,cAAc,GAAIF,KAAD,IAAW;AACrCA,EAAAA,KAAK,CAACG,OAAN,CAAc,CAACnB,IAAD,EAAOoB,GAAP,EAAYC,IAAZ,KAAsBrB,IAAI,CAACF,GAAL,GAAWsB,GAAG,KAAK,CAAR,GAAY,CAAZ,GAAgBZ,SAAS,CAACa,IAAI,CAACD,GAAG,GAAG,CAAP,CAAL,CAAxE;AACH,CAFM;AAGP,OAAO,MAAME,iBAAiB,GAAG,CAACN,KAAD,EAAQO,KAAR,KAAmBP,KAAK,CAACG,OAAN,CAAenB,IAAD,IAAUA,IAAI,CAACF,GAAL,IAAYyB,KAApC,CAA7C","sourcesContent":["import { SIZE } from '../constants';\nimport { prop } from './index';\nexport const newUnit = (fid, nodes, isChild = false) => ({\n    fid,\n    child: isChild,\n    nodes: [...nodes],\n    pos: 0,\n});\nexport const nodeIds = (unit) => unit.nodes.map(prop('id'));\nexport const nodeCount = (unit) => unit.nodes.length;\nexport const hasChildren = (unit) => unit.nodes.some(node => node.children.length);\nexport const rightSide = (unit) => unit.pos + nodeCount(unit) * SIZE;\nexport const sameAs = (target) => (unit) => nodeIds(target).join('') === nodeIds(unit).join('');\nexport const getUnitX = (family, unit) => family.X + unit.pos;\nexport const unitsToNodes = (units) => units.map(prop('nodes')).flat();\nexport const arrangeInOrder = (units) => {\n    units.forEach((unit, idx, self) => (unit.pos = idx === 0 ? 0 : rightSide(self[idx - 1])));\n};\nexport const correctUnitsShift = (units, shift) => (units.forEach((unit) => unit.pos += shift));\n"]},"metadata":{},"sourceType":"module"}