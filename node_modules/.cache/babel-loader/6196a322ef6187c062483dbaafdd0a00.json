{"ast":null,"code":"import _slicedToArray from\"/var/projets/broglie-social-react/sociala-react/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"/var/projets/broglie-social-react/sociala-react/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React from\"react\";import _Dialog from\"./Dialog\";import{jsx as _jsx}from\"react/jsx-runtime\";var initialState={isOpen:false,node:null};function reducer(state,_ref){var type=_ref.type,payload=_ref.payload;switch(type){case\"open\":{return _objectSpread(_objectSpread(_objectSpread({},state),payload),{},{isOpen:true});}case\"close\":return _objectSpread(_objectSpread({},state),{},{isOpen:false});default:throw new Error(\"invalid action type '\".concat(type,\"'\"));}}export default function(){var _React$useReducer=React.useReducer(reducer,initialState),_React$useReducer2=_slicedToArray(_React$useReducer,2),state=_React$useReducer2[0],dispatch=_React$useReducer2[1];var handleDismiss=React.useCallback(function(){return dispatch({type:\"close\"});},[]);return React.useMemo(function(){return{open:function open(node){dispatch({type:\"open\",payload:{node:node}});},Dialog:function Dialog(){var node=state.node,isOpen=state.isOpen;return/*#__PURE__*/_jsx(_Dialog,{isOpen:isOpen,onDismiss:handleDismiss,node:node});}};},[state,handleDismiss]);}","map":{"version":3,"sources":["/var/projets/broglie-social-react/sociala-react/src/components/Familytree/useDialog.js"],"names":["React","Dialog","initialState","isOpen","node","reducer","state","type","payload","Error","useReducer","dispatch","handleDismiss","useCallback","useMemo","open"],"mappings":"mQAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,OAAP,KAAmB,UAAnB,C,2CAEA,GAAMC,CAAAA,YAAY,CAAG,CACnBC,MAAM,CAAE,KADW,CAEnBC,IAAI,CAAE,IAFa,CAArB,CAKA,QAASC,CAAAA,OAAT,CAAiBC,KAAjB,MAA2C,IAAjBC,CAAAA,IAAiB,MAAjBA,IAAiB,CAAXC,OAAW,MAAXA,OAAW,CACzC,OAAQD,IAAR,EACE,IAAK,MAAL,CAAa,CACX,oDACKD,KADL,EAEKE,OAFL,MAGEL,MAAM,CAAE,IAHV,GAKD,CAED,IAAK,OAAL,CACE,sCACKG,KADL,MAEEH,MAAM,CAAE,KAFV,GAKF,QACE,KAAM,IAAIM,CAAAA,KAAJ,gCAAkCF,IAAlC,MAAN,CAhBJ,CAkBD,CAED,cAAe,WAAW,CACxB,sBAA0BP,KAAK,CAACU,UAAN,CAAiBL,OAAjB,CAA0BH,YAA1B,CAA1B,wDAAOI,KAAP,uBAAcK,QAAd,uBAEA,GAAMC,CAAAA,aAAa,CAAGZ,KAAK,CAACa,WAAN,CACpB,iBAAMF,CAAAA,QAAQ,CAAC,CAAEJ,IAAI,CAAE,OAAR,CAAD,CAAd,EADoB,CAEpB,EAFoB,CAAtB,CAKA,MAAOP,CAAAA,KAAK,CAACc,OAAN,CAAc,UAAM,CACzB,MAAO,CACLC,IADK,eACAX,IADA,CACM,CACTO,QAAQ,CAAC,CAAEJ,IAAI,CAAE,MAAR,CAAgBC,OAAO,CAAE,CAAEJ,IAAI,CAAJA,IAAF,CAAzB,CAAD,CAAR,CACD,CAHI,CAILH,MAJK,kBAII,CACP,GAAQG,CAAAA,IAAR,CAAyBE,KAAzB,CAAQF,IAAR,CAAcD,MAAd,CAAyBG,KAAzB,CAAcH,MAAd,CAEA,mBAAO,KAAC,OAAD,EAAQ,MAAM,CAAEA,MAAhB,CAAwB,SAAS,CAAES,aAAnC,CAAkD,IAAI,CAAER,IAAxD,EAAP,CACD,CARI,CAAP,CAUD,CAXM,CAWJ,CAACE,KAAD,CAAQM,aAAR,CAXI,CAAP,CAYD","sourcesContent":["import React from \"react\";\nimport Dialog from \"./Dialog\";\n\nconst initialState = {\n  isOpen: false,\n  node: null\n};\n\nfunction reducer(state, { type, payload }) {\n  switch (type) {\n    case \"open\": {\n      return {\n        ...state,\n        ...payload,\n        isOpen: true\n      };\n    }\n\n    case \"close\":\n      return {\n        ...state,\n        isOpen: false\n      };\n\n    default:\n      throw new Error(`invalid action type '${type}'`);\n  }\n}\n\nexport default function() {\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n\n  const handleDismiss = React.useCallback(\n    () => dispatch({ type: \"close\" }),\n    []\n  );\n\n  return React.useMemo(() => {\n    return {\n      open(node) {\n        dispatch({ type: \"open\", payload: { node } });\n      },\n      Dialog() {\n        const { node, isOpen } = state;\n\n        return <Dialog isOpen={isOpen} onDismiss={handleDismiss} node={node} />;\n      }\n    };\n  }, [state, handleDismiss]);\n}\n"]},"metadata":{},"sourceType":"module"}